---
title: 5 分支
top: 5
tags:
  - git
categories:
  - git
---

<h4>分支</h4>

分支就是一个没有后缀名的文件，里面存放着一个提交对象所对应的哈希

`git branch`：显示分支列表<br>`git branch 新分支名`：创建新分支，与当前分支指向一致<br>`git checkout 分支名`：切换到指定分支<br>`git checkout -b 分支名`：创建并切换到指定分支<br>`git log --oneline --decorate --graph --all`：显示完整的项目分叉历史<br>`git branch -d 分支名`：删除指定的已合并的分支，删除前先切换到其它分支<br>`git branch -D 分支名`：删除指定的未合并的分支，删除前先切换到其它分支<br>`git branch -v`：查看每个分支最后一次的提交对象<br>`git branch 新分支名 commitHash`：创建新分支，并指向对应的提交对象<br>`git branch --no-merged`：创建新分支，并指向对应的提交对象<br>`git branch --merged`：查看哪些分支已经合并到当前分支<br>`git merge 分支名`：合并指定分支（一般先切回`master`主分支，让其来合并）

已合并分支：指其它分支指向当前分支的指向的历史版本<br>未合并分支：指其它分支未指向当前分支的指向的历史版本

注意：<br>1.哈希值写前七位即可<br>2.分支切换会改变工作目录中的文件，工作目录与暂存区会恢复到该分支最后一次提交时的样子。如果 Git 不能干净利落地完成这个任务（即存在已跟踪但未提交的文件），它将禁止切换分支<br>3.分支切换前一定要保证工作目录是干净的，即已暂存且提交，不然那些未跟踪的文件可能会污染其它分支<br>4.当我们需要解决bug和实现新功能时，我们先确保当前目录干净，创建新分支来工作，这时如果需要我们解决紧急bug时，先停下当前分支下的工作，暂存并提交(写个注释以后方便看)，再次创建新分支指向紧急bug的分支（一般都是围绕主分支来创建新分支）来debug。当解决完debug时让`master`来合并该分支，此时为快进合并。再次切换到之前暂停工作的分支（注意，此时`master`为该分支的上游），完成后让`master`来合并该分支,但可能会有冲突（原因是处于下游的分支被合并时，可能文件的内容有冲突），这时需商量结合并重新修改，`add`并提交即可<br>5.`master`团队稳定的分支，`develop`自己的分支，拿到团队的仓库后新建自己的主分支，`topic`特性分支，不断新建功能时在自己的主分支上新建分支

快进合并：在合并两个分支时，由于当前`master`主分支所指向的提交是当前提交的直接上游，所以 Git 只是简单的将指针向前移动，即如果顺着`master`主分支走下去能够到达另一个分支，那么`master`即指向被合并分支的提交。此情况没有需要解决的分歧。

