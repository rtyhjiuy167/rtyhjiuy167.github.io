尽最大努力交付有何含义
1.不保证源主机发送的 IP 数据报一定无猜错地交付到目的主机
2.不保证源主机发送的 IP 数据报都在某一规定的时间内交付到目的主机
3.不保证源主机发送的 IP 数据报一定按发送时的顺序交付到目的主机
4.不保证源主机发送的 IP 数据报不会重复交付给目的主机
5.不故意丢弃 IP 数据报。丢弃 IP 数据报的情况是：路由器检测出首部校验和有错误；或由于网络中通信量过大，路由器或目的主机中的缓存已无空闲空间

## SDN

网络层的主要任务是转发和路由选择。可以将网络层抽象地划分为数据层面和控制层面，转发是数据层面实现地功能，而路由选择是控制层面实现的功能。

软件定义网络（Software-Define Networking，SDN）采用集中式的控制层面和分布式的数据层面，两个层面相互分离，控制层面利用控制-数据接口对数据层面上的路由器进行集中式控制，方便软件来控制网络。

转发是指将分组从一个输入链路接口转移到适当的输出接口的路由器本地动作。在数据平面中，且通常由硬件实现。

路由选择是指将确定分组从源到目的地所采取的端到端路径的网络范围处理过程。在控制平面中，且通常由软件实现。

#### OpenFlow

是SDN中控制器与转发层之间的通信接口标准

数据平面采用基于流的方式进行转发

OpenFlow网络由 OpenFlow网络设备（OpenFlow Switch）和控制器（OpenFlow Controller）通过OpenFlow通道（OpenFlow Channel）组成

匹配交动作转发表在OpenFlow中称为流表





## 异构网络互联

在路由器互联的多个局域网的结构中，每个局域网物理层、数据链路层、网络层协议可以不同，但网络层以上的高层协议必须相同。

路由器是一台专用计算机，用于在互联网中进行路由选择。

## 拥塞控制

#### 分类的IP地址

IP地址：全世界唯一的32位标识符，标识路由器主机的接口

IP地址：网络号，主机号

A类网络中最多可有2<sup>24</sup>台主机或路由器

<img src=".\picture\分类的IP地址.png" alt="分类的IP地址" style="zoom:80%;" />

IP地址空间的利用率有时很低。例如某公司已申请A类的网络号，但其公司的主机根本没有那么多。

两级地址不够灵活。例如，某公司想再要一个网络号，需要向 ISP 申请 

#### 子网划分

子网划分，在IP地址中增加了一个子网号字段，使两级IP地址变成了三级IP地址。

三级IP地址的结构：{<网络号>，<子网号>，<主机号>}

网络掩码：对应网络号，全0，对应主机号全1

|      两级IP地址      |   XXX    |   XXX    |   XXX    |   XXX    |
| :------------------: | :------: | :------: | :------: | :------: |
| 两级IP地址的子网掩码 | 11111111 | 11111111 | 00000000 | 00000000 |
|      三级IP地址      |   XXX    |   XXX    |   XXX    |   XXX    |
| 三级IP地址的子网掩码 | 11111111 | 11111111 | 11111111 | 00000000 |

#### 地址解析协议（ARP）



在数据链路层，MAC地址用来表示主机或路由器，数据报到达具体的目的网络后，需要知道目的主机的MAC地址才能成功送达，因此需要将IP地址转换成对应的MAC地址，即物理地址。



