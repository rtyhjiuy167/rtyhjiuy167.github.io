排他锁：不允许其它事务对数据进行写操作。

共享锁：不允许其它事务对数据进行读操作。

| 加锁协议级别 |  排他锁  |            共享锁            | 不丢失更新 | 不脏读 | 可重复读 |
| :----------: | :------: | :--------------------------: | :--------: | :----: | :------: |
|     一级     | 全程加锁 |             不加             |     是     |   否   |    否    |
|     二级     | 全程加锁 | 开始时加锁，读完数据释放锁定 |     是     |   是   |    否    |
|     三级     | 全程加锁 |           全程加锁           |     是     |   是   |    是    |

1. 丢失更新

   丢失更新指当多个事务并发运行时，一个事务对一共享数据进行更新处理，但是查询该共享数据值时，发现该数据与自己的更新值不一致。

2. 脏读

   脏读指当多个事务并发运行，并操作访问共享数据，其中一个事务读取了被另一个事务所修改后的共享数据，但修改数据的事务因某种原因失败，数据未被提交到数据库文件，而读取共享数据的事务则读取得到一个垃圾数据，即脏数据。

3. 不可重复读

   不可重复读指当多个事务并发运行时，一个事务对同一共享数据先后重复读取两次，但是在第二次读取时发现原有数据改变或丢失。

```sql
-- 锁只能在事务中使用 
-- SHARE 共享锁
-- EXCLUSIVE 排他锁
BEGIN;
LOCK TABLE [table_name] IN [mode] MODE;
-- 执行其它SQL语句
COMMIT;
```

```sql
BEGIN;
LOCK TABLE company; -- 没有指定，则使用限制最高的锁
INSERT INTO COMPANY (NAME,ID,AGE,ADDRESS,SALARY,JOIN_DATE) VALUES ('Jack', 4, 42, 'California', default, '2021-07-13');
COMMIT;
```

