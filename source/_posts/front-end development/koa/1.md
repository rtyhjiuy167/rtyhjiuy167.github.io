### 洋葱圈模型

逐级深入，再逐层返回

```javascript
const Koa = require('koa')
const app = new Koa()


app.use((ctx, next) => {
    console.log(1)
    next()
    console.log(5)
})
    .use((ctx, next) => {
        console.log(2)
        next()
        console.log(4)
    })
    .use((ctx) => {
        console.log(3)

    })
    .listen(3000, () => {
        console.log("server is running on http://localhost:3000")
    })
```

上述代码的输出结果为`1、2、3、4、5`。